include { flag } from "std:bit_field" as *;

namespace Json;

enum JsonParseOptions: flag {
	allow_trailing_commas = 0
} 

fn parse(json: string, options: JsonParseOptions): table {
	tokenizer: Tokenizer = Tokenizer.new(json);
	tokens: Token[] = tokenizer.tokenize();
	parser: Parser = Parser.new(tokens);
	return parser.parse();
}

fn to_json(object: map<string, dynamic>): string {
	throw error("Not implemented.");
}

export { parse, to_json };